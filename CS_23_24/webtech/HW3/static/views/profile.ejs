<!-- EJS for the profile page -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="assets/homebrew-logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Pattaya&family=Poppins:wght@400;500&display=swap"
    rel="stylesheet">
  <title>Homebrew - Profile</title>
</head>

<body>
  <header class="header--profile position--sticky">
    <% if (session.loggedin) { %> <!-- If the user is logged in, display their username in the topright -->
      <a onclick="window.location.href='profile'" class="header--profile__login font-size--small link--simple">
        <%= session.username %>
      </a>
      <% } else { %> <!-- If the user is not logged in, display 'login' in the topright -->
        <a onclick="window.location.href='login'" class="header--profile__login font-size--small link--simple">Login</a>
        <% } %>
  </header>
  <header class="header--nav position--sticky">
    <label class="page-header__burger-menu position--sticky">
      <input id="toggle" type="checkbox">
    </label>
    <a href="catalogue">
      <img class="page-header__logo" src="assets/homebrew-logo.png" alt="Homebrew Press logo">
    </a>
    <nav class="nav--desktop">
      <ul class="nav__list font-size--medium">
        <li><a href="book-of-the-month">Book of the month</a></li>
        <li><a href="review">Review</a></li>
        <li><a href="info">Info</a></li>
        <li><a href="about-author">Stephen King</a></li>
        <li><a href="king-books">Other books</a></li>
        <li><a href="about">About</a></li>
        <li><a href="contact">Contact</a></li>
      </ul>
    </nav>
    <nav class="nav--mobile position--sticky">
      <ul class="nav__list font-size--medium">
        <li><a href="book-of-the-month">Book of the month</a></li>
        <li><a href="review">Review</a></li>
        <li><a href="info">Info</a></li>
        <li><a href="about-author">Stephen King</a></li>
        <li><a href="king-books">Other books</a></li>
        <li><a href="about">About</a></li>
        <li><a href="contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main class="main--profile">
    <article class="profile-info">
      <section class="profile-info__data font-size--small">
        <% if (session.loggedin) { %>
          <!-- Display user info if there is an active session -->
          <p class="profile-info__title font-size--medium">
            Credentials
          </p>
          <p class="profile-info__username">
            <%= session.username %>
          </p>
          <p class="profile-info__email">
            <%= session.email %>
          </p>
          <p class="profile-info__password cursor--pointer">
            <%= session.password %>
          </p>
      </section>
      <section class="profile-info__data font-size--small">
        <p class="profile-info__title font-size--medium">
          Personal Info
        </p>
        <p class="profile-info__country">
          <%= session.country %>
        </p>
        <p class="profile-info__city">
          <%= session.city %>
        </p>
        <p class="profile-info__zip">
          <%= session.zip %>
        </p>
      </section>
      <section class="signout__wrapper">
        <!-- Send a GET request to /logging-out to log out. See app.js for more details -->
        <button onclick='window.location.href="logging-out"' class="profile__signout-button">Logout</button>
        <button onclick='window.location.href="edit-profile"' class="profile__signout-button">Edit profile</button>
      </section>
      <a role="button" href="reservation-history" class="reservation-history-button">Reservation history</a>
      <% } else { %>
        <!-- Let the user know if they are not logged in and provide an easily accessible login link -->
        <p>Please log in <a href="login" class="link--simple">here</a>!</p>
        <% } %>
    </article>
  </main>
  <footer class="footer">
    <h3 class="footer__title font-size--medium">Homebrew Press &copy;</h3>
    <div class="footer__logo--wrapper">
      <a class="footer__logo footer__logo--youtube" href="https://www.youtube.com/watch?v=xvFZjo5PgG0" target="_blank">
        <img src="assets/youtube.svg" alt="YouTube logo">
      </a>
      <a class="footer__logo footer__logo--twitterx" href="https://twitter.com/" target="_blank">
        <img src="assets/twitterx.svg" alt="X (formerly known as Twitter) logo">
      </a>
      <a class="footer__logo footer__logo--instagram" href="https://www.instagram.com/stickyutrecht/" target="_blank">
        <img src="assets/instagram.svg" alt="Instagram logo">
      </a>
    </div>
  </footer>
</body>
<script src="scripts/reveal-password.js"></script>

</html>